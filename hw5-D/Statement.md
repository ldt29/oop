## 题目说明
### part1
卷王清小华最近听说NLP这个领域是大佬都喜欢卷的领域，也打算尝试一下。 但是没想到，还没学到深度学习模型，在数据预处理上就遇到了困难。原来，自然语言处理的预处理是需要将人类的自然语言符号化，最后形成可训练的批(batch)数据。

例如，以下有3句话
```
The boy is running
The girl is sleeping
Another girl is looking at the clock
```
我们需要首先构建一个词表, 在本例中, 我们构建的方式是按出现顺序赋予id(起始为1), 例如:
```
The 1; boy 2; is 3; running 4; girl 5, sleeping 6; Another 7; looking 8; at 9; the 10; clock 11;
```
再根据这个词表, 得到每个句子的编码(encoding), 例如:
```
[1,2,3,4]
[1,5,3,6]
[7,5,3,8,9,10,11]
```
接下来我们需要在这个数据上训练模型好几轮(epoch), 在每个轮(epoch)中, 我们会将数据组织成批(batch): 例如如果 批大小(batch size)是2的话，我们就会得到这样两批数据:
```
[[1,2,3,4],[1,5,3,6]]
[[7,5,3,8,9,10,11]]
```
其中最后一条中只有一条数据，不是满批次, 也不需要是。

### part2
在实际训练中，我们每轮(epoch)之间会对数据进行打乱(shuffle), 例如, 按随机排列[2,3,1]把数据打乱成
```
[1,5,3,6]
[7,5,3,8,9,10,11]
[1,2,3,4]
```
这时候我们还要以batch size为2取数据的话，就遇到了一个问题: 第一条数据和第二条数据长度不一样，而深度学习的模型必须接受矩阵形式的数据，因此我们需要对第一条数据用0做padding,padding到这个batch的长度最大的句子的长度, 这样我们得到的数据是下面两批:
```
[[1,5,3,6,0,0,0],[7,5,3,8,9,10,11]]
[[1,2,3,4]]
```
总结起来，我们这个例子的预处理经过以下几步: 1. 根据输入按空格分词, 根据词语出现顺序给每个词id, 这样就构建了词表，以及每条句子的编码； 2. 在每个epoch中, 根据一个随机排列对数据进行shuffle, 然后按batchsize从第一个数据开始依次取批数据 3. 对于一个batch中句子encoding长度不同的情况, padding到这个batch中长度最大的句子的长度。

### part3
卷王清小华同时看了python的DataLoader实现，里面有一种迭代器的实现的优美深深的吸引了他:
```python
for batch in data_loader:
    # data_loader是一个迭代器，对他进行迭代可以直接获得batch二维矩阵, 内在的采样细节由dataloader实现，对外隐藏，十分优雅
```
因此他也希望在C++里也能用如此优美的迭代器, 如下
```cpp
for (auto batch : D){ //D 是dataloader
 // batch直接是一个二维矩阵
}
```
因此他把这个写在main.cpp里, 并且不允许你修改main.cpp。请你通过其他文件帮他实现他的强迫症之梦。已有代码在这里下载,见problem_114.zip

### 输入输出
具体输入如下:

第1行: 一个整数N, N<1000

第2~N+1行: N个句子，句子的单词用空格分开

第N+2行: 一个整数m,表示要训练的Epoch数, 2<=m<=5

后面每2行为一组，共epoch组

每组第1行为一个整数k, 表示在这个epoch中，使用的batch size, 2<=k<=16

每组第2行为一个数字串，为 1~N的一个随机排列，表示按这个顺序进行打乱(shuffle)

样例:
```
14
The first generally recognized wiki application
WikiWikiWeb
was created by American computer programmer Ward Cunningham in 1994 and launched on c2
com in 1995
1 WikiWikiWeb was also the name of the wiki that ran on the software
and in the first years of wikis existence there was no great distinction made between the contents of wikis and the software they ran on
possibly because almost every wiki ran on its own customized software
Wiki software originated from older version control systems used for documentation and software in the 1980s
By the mid 1990s these generally had web browser interfaces
However
they lacked the ability to easily create links between internal pages without writing HTML code
For WikiWikiWeb
the CamelCase naming convention was used to indicate internal links
without requiring HTML code
4
3
6 4 7 10 0 8 5 12 9 3 2 1 11 13
15
5 6 11 1 0 7 13 12 4 9 3 10 8 2
10
6 0 13 5 3 2 12 11 8 1 7 10 9 4
14
11 12 1 10 9 6 13 7 8 5 2 4 3 0
```
输出: 所有batch的数据按顺序打印，其中每个batch通过我们提供的matrix_unicode函数转成字符串表示 

样例输出 

注意:

1. #的行是注释，不是输出！

2. 只有batch结束的那一行末尾有换行符，其他行没有，也就是 ]] 结尾的是换行，],后面不是换行
```
# epoch1的输出
[[43,44,45,46,5,30,20,47,48,49,31,0,0,0,0,0],[24,7,8,25,26,27,28,26,5,29,30,20,26,31,0,0],[50,31,51,52,53,54,55,56,57,58,59,18,31,16,26,60]]
[[42,70,26,71,72,73,74,75,40,76,77,78,79,80,81],[1,2,3,4,5,6,0,0,0,0,0,0,0,0,0],[61,26,62,63,64,3,65,66,67,68,0,0,0,0,0]]
[[18,16,26,2,32,28,33,34,35,8,36,37,38,39,40,26,41,28,33,18,26,31,42,30,20],[26,83,84,85,8,57,72,86,76,75,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[69,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]
[[22,16,23,0,0,0,0,0,0,0,0,0,0,0],[8,9,10,11,12,13,14,15,16,17,18,19,20,21],[7,0,0,0,0,0,0,0,0,0,0,0,0,0]]
[[82,7,0,0],[78,87,80,81]]
# epoch2的输出
[[18,16,26,2,32,28,33,34,35,8,36,37,38,39,40,26,41,28,33,18,26,31,42,30,20],[43,44,45,46,5,30,20,47,48,49,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[82,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,2,3,4,5,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[50,31,51,52,53,54,55,56,57,58,59,18,31,16,26,60,0,0,0,0,0,0,0,0,0],[78,87,80,81,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[26,83,84,85,8,57,72,86,76,75,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[24,7,8,25,26,27,28,26,5,29,30,20,26,31,0,0,0,0,0,0,0,0,0,0,0],[69,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[22,16,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[42,70,26,71,72,73,74,75,40,76,77,78,79,80,81,0,0,0,0,0,0,0,0,0,0],[61,26,62,63,64,3,65,66,67,68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[8,9,10,11,12,13,14,15,16,17,18,19,20,21,0,0,0,0,0,0,0,0,0,0,0]]
# epoch3的输出
[[43,44,45,46,5,30,20,47,48,49,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,2,3,4,5,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[78,87,80,81,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[18,16,26,2,32,28,33,34,35,8,36,37,38,39,40,26,41,28,33,18,26,31,42,30,20],[22,16,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[8,9,10,11,12,13,14,15,16,17,18,19,20,21,0,0,0,0,0,0,0,0,0,0,0],[26,83,84,85,8,57,72,86,76,75,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[82,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[61,26,62,63,64,3,65,66,67,68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]
[[50,31,51,52,53,54,55,56,57,58,59,18,31,16,26,60],[42,70,26,71,72,73,74,75,40,76,77,78,79,80,81,0],[69,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[24,7,8,25,26,27,28,26,5,29,30,20,26,31,0,0]]
# epoch4的输出
[[82,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[26,83,84,85,8,57,72,86,76,75,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[42,70,26,71,72,73,74,75,40,76,77,78,79,80,81,0,0,0,0,0,0,0,0,0,0],[69,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[43,44,45,46,5,30,20,47,48,49,31,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[78,87,80,81,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[50,31,51,52,53,54,55,56,57,58,59,18,31,16,26,60,0,0,0,0,0,0,0,0,0],[61,26,62,63,64,3,65,66,67,68,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[18,16,26,2,32,28,33,34,35,8,36,37,38,39,40,26,41,28,33,18,26,31,42,30,20],[8,9,10,11,12,13,14,15,16,17,18,19,20,21,0,0,0,0,0,0,0,0,0,0,0],[24,7,8,25,26,27,28,26,5,29,30,20,26,31,0,0,0,0,0,0,0,0,0,0,0],[22,16,23,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,2,3,4,5,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]
```
### 提交文件
把以下文件打包成压缩包: dataloader.h, makefile 以及其他的自己写的文件。

我们会把main.cpp拷贝进代码目录。

